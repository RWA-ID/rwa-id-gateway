You are building a Node.js Express gateway for ENS CCIP-Read (EIP-3668) for the RWA-ID project.

Goal:
- Run a public HTTPS server on Replit
- Provide two endpoints:
  1) GET /health -> returns JSON { ok: true, registry: <registryAddress> }
  2) CCIP-Read URL format: GET /:sender/:data.json -> returns JSON { data: "0x..." }

Environment variables (Secrets) REQUIRED:
- LINEA_RPC_URL = https://rpc.linea.build
- RWA_ID_REGISTRY = 0x74aACeff8139c84433befB922a8E687B6ba51F3a
- GATEWAY_SIGNER_PRIVATE_KEY = (private key for signing responses)
Optional:
- PORT (default 8080)

What the gateway must do:
- Decode the incoming :data parameter as ABI-encoded (bytes dnsName, bytes callData)
  - data is a hex string (0x...)
  - Decode using ethers AbiCoder:
    decode(["bytes","bytes"], dataBytes)
- Parse dnsName (DNS wire format) into a string like "hector.securitize.rwa-id.eth"
  - Validate suffix is exactly "rwa-id.eth"
  - Extract label = first label, slug = second label
  - Use lowercase for normalization (trim + toLowerCase)
- Compute:
  slugHash = keccak256(utf8Bytes(slug))
  nameHash = keccak256(utf8Bytes(label))
- Call the Linea registry contract:
  ABI:
    function projectIdBySlugHash(bytes32) view returns (uint256)
    function nameNodeFromHash(uint256,bytes32) view returns (bytes32)
    function nodeAddr(bytes32) view returns (address)
- If projectId == 0 => return 404 JSON error
- Otherwise:
  node = nameNodeFromHash(projectId, nameHash)
  addr = nodeAddr(node)

Signing (for the resolver contract to verify):
- Compute messageHash = solidityPackedKeccak256(["address","bytes32","address"], [RWA_ID_REGISTRY, node, addr])
- signature = signMessage(bytes(messageHash)) using GATEWAY_SIGNER_PRIVATE_KEY

Return data format for CCIP-Read callback:
- ABI-encode: (bytes32 node, address resolved, bytes32 messageHash, bytes signature)
  encoded = abi.encode(node, addr, messageHash, signature)
- Respond JSON:
  { "data": encoded }

Also include a developer-friendly endpoint:
- GET /resolve?name=hector.securitize.rwa-id.eth
  - Does the same lookup logic and returns JSON:
    { name, projectId, nameHash, node, address, messageHash, signature }

Project requirements:
- Use Node.js 18+ (Replit default is fine)
- Use dependencies: express, ethers, dotenv
- Provide a package.json with:
  "start": "node index.js"
- The server must listen on process.env.PORT or 8080
- Log the registry + rpc URL on startup

After implementing:
- Run `npm install`
- Run `npm start`
- Provide me the public Replit URL
- Verify with curl examples:
  curl https://<repl-url>/health
  curl https://<repl-url>/resolve?name=hector.securitize.rwa-id.eth
  Then build calldata for addr() selector 0x3b3b57de and test:
  curl https://<repl-url>/0x0000000000000000000000000000000000000000/<CALLDATA>.json

Do NOT store secrets in files or commit them. Use Replit Secrets only.
